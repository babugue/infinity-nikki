const animals=[{name:{en:"Ambird",pt:"Azulito"},rarity:"1",color:"white",size:"small",level:1,food:9,drop:"Featherlight Stone",affection:[10,11,12],tamingIcons:["Pet","Toy","Heart","Sun","Moon","Heart","Sun"],image:"images/animals/ambird.png"},{name:{en:"Beretsant",pt:"Galiboina"},rarity:"2",color:"brown",size:"small",level:3,food:18,drop:"Brilliant Pearl",affection:[20,22,24],tamingIcons:["Heart","Heart","Pet","Candy"],image:"images/animals/beretsant.png"},{name:{en:"Blushbunny",pt:"Corelhinho"},rarity:"2",color:"brown",size:"small",level:3,food:18,drop:"Leaf Stone",affection:[20,22,24],tamingIcons:["Heart","Toy","Candy","Hands","Moon"],image:"images/animals/blushbunny.png"},{name:{en:"Bowler",pt:"Fofuc\xe3o"},rarity:"2",color:"brown",size:"large",level:3,food:42,drop:"Radiant Gemstone",affection:[20,22,24],tamingIcons:["Heart","Hands","Heart","Hands","Sun"],image:"images/animals/bowler.png"},{name:{en:"Bowtie Cat",pt:"Gravato"},rarity:"1",color:"white",size:"small",level:1,food:9,drop:"Brilliant Pearl",affection:[10,11,12],tamingIcons:["Moon","Heart","Hands","Toy","Toy"],image:"images/animals/bowtie_cat.png"},{name:{en:"Browcat",pt:"Gato-marrom"},rarity:"2",color:"brown",size:"small",level:3,food:18,drop:"Brilliant Pearl",affection:[20,22,24],tamingIcons:["Toy","Heart","Toy","Heart","Sun"],image:"images/animals/browcat.png"},{name:{en:"Celebcrow",pt:"Celebricorvo"},rarity:"1",color:"white",size:"small",level:1,food:9,drop:"Featherlight Stone",affection:[10,11,12],tamingIcons:["Pet","Pet","Sun","Candy","Pet","Sun"],image:"images/animals/celebcrow.png"},{name:{en:"Crowned Parrot",pt:"Calopsita-coroada"},rarity:"2",color:"brown",size:"small",level:3,food:18,drop:"Featherlight Stone",affection:[20,22,24],tamingIcons:["Toy","Pet","Hands","Toy","Pet"],image:"images/animals/crowned_parrot.png"},{name:{en:"Crowndeer",pt:"Florecervo"},rarity:"3",color:"blue",size:"large",level:6,food:42,drop:"Radiant Gemstone",affection:[20,22,24],tamingIcons:["Hands","Toy","Heart","Heart"],image:"images/animals/crowndeer.png"},{name:{en:"Cushion Squirrel",pt:"Fofisquilo"},rarity:"1",color:"white",size:"small",level:1,food:9,drop:"Leaf Stone",affection:[10,11,12],tamingIcons:["Moon","Hands","Sun","Hands"],image:"images/animals/cushion_squirrel.png"},{name:{en:"Fan Egret",pt:"Gar\xe7a-branca-leque"},rarity:"3",color:"blue",size:"large",level:6,food:42,drop:"Flying Pearl",affection:[20,22,24],tamingIcons:["Candy","Toy","Pet","Hands","Sun","Moon"],image:"images/animals/fan_egret.png"},{name:{en:"Florasheep",pt:"Peoneiro"},rarity:"3",color:"blue",size:"large",level:6,food:42,drop:"Radiant Gemstone",affection:[20,22,24],tamingIcons:["Toy","Pet","Pet","Hands","Toy","Toy"],image:"images/animals/florasheep.png"},{name:{en:"Florist Sheep",pt:"Florneiro"},rarity:"1",color:"white",size:"large",level:1,food:22,drop:"Radiant Gemstone",affection:[10,11,12],tamingIcons:["Toy","Candy","Sun","Sun"],image:"images/animals/florist_sheep.png"},{name:{en:"Floof",pt:"Doguinho"},rarity:"1",color:"white",size:"small",level:1,food:9,drop:"Brilliant Pearl",affection:[10,11,12],tamingIcons:["Pet","Heart","Hands","Moon","Hands","Moon"],image:"images/animals/floof.png"},{name:{en:"Hooded Owl",pt:"Len\xe7oruja"},rarity:"2",color:"brown",size:"small",level:3,food:18,drop:"Featherlight Stone",affection:[20,22,24],tamingIcons:["Heart","Hands","Toy","Candy","Moon"],image:"images/animals/hooded_owl.png"},{name:{en:"Knight Stallion",pt:"Garanh\xe3o Cavaleiro"},rarity:"1",color:"white",size:"large",level:1,food:22,drop:"Radiant Gemstone",affection:[10,11,12],tamingIcons:["Toy","Hands","Pet","Hands","Hands","Heart"],image:"images/animals/knight_stallion.png"},{name:{en:"Longstocking",pt:"Meialonga"},rarity:"3",color:"blue",size:"large",level:6,food:42,drop:"Radiant Gemstone",affection:[20,22,24],tamingIcons:["Sun","Heart","Heart","Hands","Hands","Toy"],image:"images/animals/longstocking.png"},{name:{en:"Noble Pony",pt:"P\xf4nei Nobre"},rarity:"3",color:"blue",size:"large",level:6,food:42,drop:"Radiant Gemstone",affection:[20,22,24],tamingIcons:["Sun","Heart","Hands","Pet","Toy","Toy"],image:"images/animals/noble_pony.png"},{name:{en:"Rosecrown Swan",pt:"Cisne R\xf3seo"},rarity:"3",color:"blue",size:"large",level:6,food:42,drop:"Flying Pearl",affection:[20,22,24],tamingIcons:["Moon","Toy","Toy","Toy","Toy","Pet"],image:"images/animals/rosecrown_swan.png"},{name:{en:"Shirtcat",pt:"Gabotoado"},rarity:"1",color:"white",size:"small",level:1,food:9,drop:"Brilliant Pearl",affection:[10,11,12],tamingIcons:["Moon","Candy","Pet","Hands","Toy"],image:"images/animals/shirtcat.png"},{name:{en:"Suspenders Weasel",pt:"Doninha Arrumadinha"},rarity:"3",color:"blue",size:"small",level:6,food:26,drop:"Brilliant Pearl",affection:[30,33,36],tamingIcons:["Pet","Toy","Pet","Hands","Heart","Moon"],image:"images/animals/suspenders_weasel.png"},{name:{en:"Tuxtail Swan",pt:"Cisne-cauda-de-fraque"},rarity:"3",color:"blue",size:"large",level:6,food:42,drop:"Flying Pearl",affection:[20,22,24],tamingIcons:["Pet","Toy","Pet","Pet","Pet","Sun"],image:"images/animals/tuxtail_swan.png"},{name:{en:"Wreathdoe",pt:"Floracor\xe7a"},rarity:"2",color:"brown",size:"large",level:3,food:42,drop:"Radiant Gemstone",affection:[20,22,24],tamingIcons:["Toy","Pet","Hands","Sun","Sun"],image:"images/animals/wreathdoe.png"}];animals.sort((e,a)=>e.name.en.localeCompare(a.name.en));let currentLanguage="en",translations={};async function initializeApp(){try{window.animals=animals,window.currentLanguage=currentLanguage,window.translations=translations,window.renderAnimals=renderAnimals,window.updateLanguage=updateLanguage,translations=await getAllTranslations(),window.translations=translations;let e=detectBrowserLanguage(),a=localStorage.getItem("preferredLanguage");currentLanguage=a||e,window.currentLanguage=currentLanguage,document.getElementById("language-select").value=currentLanguage,document.documentElement.lang=currentLanguage,updateLanguage(),renderAnimals(),document.getElementById("language-select").addEventListener("change",changeLanguage),document.getElementById("apply-filters-btn").addEventListener("click",applyFilters),document.getElementById("reset-filters-btn").addEventListener("click",resetFilters),document.addEventListener("click",function(e){e.target.closest(".affection-header")||e.target.closest(".tooltip")||hideTooltip()});let n=document.getElementById("search-icon"),o=document.getElementById("filter-title"),t=document.getElementById("search-input");n.addEventListener("click",()=>{o.classList.add("hidden"),t.classList.remove("hidden"),t.focus()}),t.addEventListener("blur",()=>{""===t.value&&(o.classList.remove("hidden"),t.classList.add("hidden"))}),t.addEventListener("input",applyFilters),t.addEventListener("keydown",e=>{"Escape"===e.key&&(t.value="",applyFilters(),t.blur())});let i=document.getElementById("theme-toggle"),r=document.body,l=e=>{"dark"===e?(r.classList.add("dark-mode"),i.checked=!0):(r.classList.remove("dark-mode"),i.checked=!1)};i.addEventListener("change",()=>{let e=i.checked?"dark":"light";localStorage.setItem("theme",e),l(e)});let s=localStorage.getItem("theme"),m=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;s?l(s):m&&l("dark"),console.log("Aplicativo inicializado com sucesso!")}catch(d){console.error("Erro ao inicializar o aplicativo:",d),translations=baseTranslations,window.translations=translations,currentLanguage="en",window.currentLanguage=currentLanguage,updateLanguage(),renderAnimals()}}document.addEventListener("DOMContentLoaded",initializeApp),"ontouchstart"in window&&document.addEventListener("touchstart",function(){},{passive:!0});